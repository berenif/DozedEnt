# Apache configuration for proper MIME types
# This file helps ensure JavaScript modules are served with correct MIME type

# Enable CORS for all files
Header always set Access-Control-Allow-Origin "*"
Header always set Access-Control-Allow-Methods "GET, POST, OPTIONS"
Header always set Access-Control-Allow-Headers "Content-Type"

# Set proper MIME types
AddType application/javascript .js
AddType application/javascript .mjs
AddType application/wasm .wasm
AddType text/css .css

# Ensure JavaScript modules are served as modules
<FilesMatch "\.(js|mjs)$">
    Header set Content-Type "application/javascript; charset=utf-8"
</FilesMatch>

# Ensure WASM files are served correctly
<FilesMatch "\.wasm$">
    Header set Content-Type "application/wasm"
</FilesMatch>

# Disable caching for development
<IfModule mod_expires.c>
    ExpiresActive Off
</IfModule>

<IfModule mod_headers.c>
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires "0"
</IfModule>