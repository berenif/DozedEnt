<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Sprite Sheet Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        canvas {
            border: 2px solid #333;
            background: #2a2a2a;
            image-rendering: pixelated;
        }
        .controls {
            margin: 20px 0;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 4px;
        }
        button:hover {
            background: #45a049;
        }
        .info {
            background: #333;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 2px;
            max-width: 400px;
            margin: 10px 0;
        }
        .frame {
            aspect-ratio: 1;
            border: 1px solid #555;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            background: #444;
        }
    </style>
</head>
<body>
    <h1>Player Sprite Sheet Generator</h1>
    
    <div class="info">
        <p>This tool generates a 192x192 pixel sprite sheet for the player animation system.</p>
        <p>Each frame is 32x32 pixels in a 6x6 grid layout.</p>
    </div>

    <canvas id="spriteCanvas" width="192" height="192"></canvas>
    
    <div class="controls">
        <button onclick="generateSpriteSheet()">Generate Sprite Sheet</button>
        <button onclick="downloadSpriteSheet()">Download Sprite Sheet</button>
        <button onclick="previewAnimation()">Preview Animation</button>
    </div>

    <div class="info">
        <h3>Animation Layout:</h3>
        <div class="grid">
            <div class="frame">Idle 1</div>
            <div class="frame">Idle 2</div>
            <div class="frame">Idle 3</div>
            <div class="frame">Idle 4</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
            
            <div class="frame">Run 1</div>
            <div class="frame">Run 2</div>
            <div class="frame">Run 3</div>
            <div class="frame">Run 4</div>
            <div class="frame">Run 5</div>
            <div class="frame">Run 6</div>
            
            <div class="frame">Atk 1</div>
            <div class="frame">Atk 2</div>
            <div class="frame">Atk 3</div>
            <div class="frame">Atk 4</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
            
            <div class="frame">Block</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
            
            <div class="frame">Roll 1</div>
            <div class="frame">Roll 2</div>
            <div class="frame">Roll 3</div>
            <div class="frame">Roll 4</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
            
            <div class="frame">Hurt 1</div>
            <div class="frame">Hurt 2</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
            <div class="frame">-</div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('spriteCanvas');
        const ctx = canvas.getContext('2d');
        
        // Disable image smoothing for pixel art
        ctx.imageSmoothingEnabled = false;
        
        const FRAME_SIZE = 32;
        const GRID_SIZE = 6;
        
        // Animation definitions
        const animations = {
            idle: { row: 0, frames: 4, color: '#4ade80' },      // Green
            running: { row: 1, frames: 6, color: '#3b82f6' },   // Blue  
            attacking: { row: 2, frames: 4, color: '#f97316' }, // Orange
            blocking: { row: 3, frames: 1, color: '#06b6d4' },  // Cyan
            rolling: { row: 4, frames: 4, color: '#eab308' },   // Yellow
            hurt: { row: 5, frames: 2, color: '#ef4444' }       // Red
        };
        
        function drawStickFigure(x, y, color, frame, animType) {
            ctx.save();
            ctx.translate(x + FRAME_SIZE/2, y + FRAME_SIZE/2);
            
            // Animation-specific modifications
            let headY = -8;
            let bodyHeight = 12;
            let armAngle = 0;
            let legAngle = 0;
            let scale = 1;
            
            switch(animType) {
                case 'idle':
                    // Subtle breathing animation
                    scale = 1 + Math.sin(frame * 0.5) * 0.02;
                    break;
                    
                case 'running':
                    // Running cycle
                    armAngle = Math.sin(frame * 2) * 0.5;
                    legAngle = Math.sin(frame * 2 + Math.PI) * 0.5;
                    headY += Math.sin(frame * 4) * 1;
                    break;
                    
                case 'attacking':
                    // Attack swing
                    armAngle = (frame / 4) * Math.PI - Math.PI/4;
                    scale = 1 + (frame / 4) * 0.1;
                    break;
                    
                case 'blocking':
                    // Defensive pose
                    armAngle = -Math.PI/3;
                    scale = 0.9;
                    break;
                    
                case 'rolling':
                    // Rolling motion
                    ctx.rotate((frame / 4) * Math.PI * 2);
                    scale = 0.8;
                    break;
                    
                case 'hurt':
                    // Hurt recoil
                    scale = 0.9 + Math.sin(frame * 8) * 0.1;
                    ctx.translate(Math.sin(frame * 6) * 2, 0);
                    break;
            }
            
            ctx.scale(scale, scale);
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            
            // Head
            ctx.beginPath();
            ctx.arc(0, headY, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Body
            ctx.beginPath();
            ctx.moveTo(0, headY + 4);
            ctx.lineTo(0, headY + 4 + bodyHeight);
            ctx.stroke();
            
            // Arms
            ctx.beginPath();
            ctx.moveTo(0, headY + 8);
            ctx.lineTo(Math.cos(armAngle) * 8, headY + 8 + Math.sin(armAngle) * 8);
            ctx.moveTo(0, headY + 8);
            ctx.lineTo(Math.cos(-armAngle) * 8, headY + 8 + Math.sin(-armAngle) * 8);
            ctx.stroke();
            
            // Legs
            const legY = headY + 4 + bodyHeight;
            ctx.beginPath();
            ctx.moveTo(0, legY);
            ctx.lineTo(Math.cos(legAngle + Math.PI/2) * 8, legY + Math.sin(legAngle + Math.PI/2) * 8);
            ctx.moveTo(0, legY);
            ctx.lineTo(Math.cos(-legAngle + Math.PI/2) * 8, legY + Math.sin(-legAngle + Math.PI/2) * 8);
            ctx.stroke();
            
            ctx.restore();
        }
        
        function generateSpriteSheet() {
            // Clear canvas
            ctx.fillStyle = '#2a2a2a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw grid lines for reference
            ctx.strokeStyle = '#444';
            ctx.lineWidth = 1;
            for (let i = 0; i <= GRID_SIZE; i++) {
                ctx.beginPath();
                ctx.moveTo(i * FRAME_SIZE, 0);
                ctx.lineTo(i * FRAME_SIZE, canvas.height);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(0, i * FRAME_SIZE);
                ctx.lineTo(canvas.width, i * FRAME_SIZE);
                ctx.stroke();
            }
            
            // Generate each animation
            Object.entries(animations).forEach(([name, anim]) => {
                for (let frame = 0; frame < anim.frames; frame++) {
                    const x = frame * FRAME_SIZE;
                    const y = anim.row * FRAME_SIZE;
                    
                    drawStickFigure(x, y, anim.color, frame, name);
                }
            });
            
            console.log('Sprite sheet generated successfully!');
        }
        
        function downloadSpriteSheet() {
            const link = document.createElement('a');
            link.download = 'player-sprites.png';
            link.href = canvas.toDataURL();
            link.click();
            console.log('Sprite sheet downloaded!');
        }
        
        let previewFrame = 0;
        let previewAnimation = null;
        
        function previewAnimation() {
            if (previewAnimation) {
                clearInterval(previewAnimation);
                previewAnimation = null;
                generateSpriteSheet();
                return;
            }
            
            previewAnimation = setInterval(() => {
                generateSpriteSheet();
                
                // Highlight current preview frame
                const animName = 'running';
                const anim = animations[animName];
                const frame = previewFrame % anim.frames;
                const x = frame * FRAME_SIZE;
                const y = anim.row * FRAME_SIZE;
                
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 3;
                ctx.strokeRect(x, y, FRAME_SIZE, FRAME_SIZE);
                
                previewFrame++;
            }, 200);
        }
        
        // Generate initial sprite sheet
        generateSpriteSheet();
    </script>
</body>
</html>

